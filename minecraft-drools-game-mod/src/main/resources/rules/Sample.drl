package com.example
 
import org.drools.minecraft.model.Room;
import org.drools.minecraft.model.Session;
import org.drools.minecraft.model.Player;
import org.drools.minecraft.model.Item;
import org.drools.minecraft.model.Door;
import org.drools.minecraft.util.DroolsCommandInterface;
import org.drools.minecraft.util.DroolsTestInterface;

rule "Setup"
    when
        //I'm a stub!
    then
        //I'm the continuation of a stub!
end


rule "Update"
no-loop
    when
        //I'm a stub, and maybe should go away entirely!
    then
        //I'm still a stub!
        
end

rule "Open the door when the player has the key"
    when
        $d : Door(id == "LighthouseDoor")
        $p : Player(DroolsTestInterface.playerTouchingDoor($p, $d))
        Item(type == "item.key") from $p.getInventory()
        
    then
       DroolsCommandInterface.openDoor($d);

end

rule "Close the door when we're not around."
    when
        $d : Door(id == "LighthouseDoor")
        $p : Player(!DroolsTestInterface.playerTouchingDoor($p, $d))
        
    then
       DroolsCommandInterface.closeDoor($d);

end